(this["webpackJsonpstore-locator"]=this["webpackJsonpstore-locator"]||[]).push([[0],{178:function(e,t,n){e.exports=n.p+"static/media/no-means-no.fe014caf.png"},179:function(e,t,n){e.exports=n(424)},186:function(e,t,n){},231:function(e,t){},233:function(e,t){},263:function(e,t){},264:function(e,t){},328:function(e,t){},423:function(e,t,n){},424:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(56),c=n.n(a),i=n(68),u={gray100:"#eee",gray200:"#444",gray300:"#333",blue100:"#e3f4fb",green900:"#5f7256",linen:"#f5f3e6",mistyrose:"#ffe9dd",white:"#fff",spacing:function(e){return"".concat(8*e,"px")}},s=(n(186),n(34)),l=n.n(s),d=n(72),p=n(13),f=n(14);function m(){var e=Object(p.a)(["\n  border-left: 1px solid #fff;\n  position: absolute;\n  left: 33.3333%;\n  width: 66.6666%;\n  top: 0;\n  bottom: 0;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n"]);return m=function(){return e},e}var g=f.a.div(m()),b=function(){return o.a.createElement(g,{id:"map-container"})};function y(){var e=Object(p.a)(["\n  color: ",";\n"]);return y=function(){return e},e}function v(){var e=Object(p.a)(["\n  display: block;\n  color: ",";\n  font-weight: 700;\n"]);return v=function(){return e},e}function h(){var e=Object(p.a)(["\n  background-color: ",";\n  display: block;\n  border-bottom: 1px solid #eee;\n  padding: 10px;\n  text-decoration: none;\n"]);return h=function(){return e},e}var E=f.a.div(h(),(function(e){return e.activeLocation===e.locationId?"#f8f8f8":"#fff"})),x=f.a.a(v(),(function(e){return e.theme.gray300})),k=f.a.p(y(),(function(e){return e.theme.gray200})),w=function(e){var t,n=e.properties,r=n.name,a=n.address,c=n.city,i=n.state,u=n.country,s=n.distance,l=e.activeLocation,d=e.locationId,p=e.onClick;return s&&(t=Math.round(100*s)/100),o.a.createElement(E,{locationId:d,activeLocation:l},o.a.createElement(x,{href:"#",onClick:p},r),o.a.createElement("div",null,a),o.a.createElement("div",null,"".concat(c,", ").concat(i," ").concat(u)),s&&o.a.createElement(k,null,o.a.createElement("strong",null,"".concat(t," miles away"))))};w.defaultProps={properties:{}};var j=w;function O(){var e=Object(p.a)(["\n  color: ",";\n"]);return O=function(){return e},e}function C(){var e=Object(p.a)(["\n  background: ",";\n  color: ",";\n  padding: ",";\n  font-size: 1.2rem;\n  min-width: 120px;\n"]);return C=function(){return e},e}function _(){var e=Object(p.a)(["\n  padding: ",";\n  color: ",";\n"]);return _=function(){return e},e}var P=f.a.div(_(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.gray200})),z=f.a.div(C(),(function(e){return e.theme.gray300}),(function(e){return e.theme.white}),(function(e){return e.theme.spacing(1)})),L=f.a.div(O(),(function(e){return e.theme.gray200})),F=o.a.memo((function(e){var t=e.name,n=e.address,r=e.city,a=e.state,c=e.country,s=e.phone,l=e.googleMapsUrl,d=e.instagramUrl;return o.a.createElement(i.a,{theme:u},o.a.createElement(z,null,t),o.a.createElement(P,null,o.a.createElement(L,null,n),o.a.createElement("div",null,"".concat(r," ").concat(a," ").concat(c)),o.a.createElement("div",null,s),o.a.createElement("div",null,o.a.createElement("a",{href:l,target:"_blank"},"Directions")),d&&o.a.createElement("div",null,o.a.createElement("a",{href:d,target:"_blank"},"Instagram"))))})),S=n(40),T=n.n(S),I=n(175),M=n.n(I),U=n(176),A=n(177),B=n.n(A),J="pk.eyJ1Ijoic3RpbGxub3Rhc2tpbmdmb3JpdCIsImEiOiJjazVrNjQ0OGcwYXRoM2VvNjljdXplY29oIn0.osX0C8NqyvuDUIMCCekxyw",N=function(e,t){"undefined"!==typeof t&&t.flyTo({center:e.geometry.coordinates,zoom:15})},R=function(e,t,n){var r=document.getElementsByClassName("mapboxgl-popup");r[0]&&r[0].remove();var a=e.properties,i=a.name,u=a.address,s=a.city,l=a.state,d=a.country,p=a.phone,f=a.google_maps_url,m=a.instagram_url,g=document.createElement("div");c.a.render(o.a.createElement(n,{key:i,name:i,address:u,city:s,state:l,country:d,phone:p,googleMapsUrl:f,instagramUrl:m}),g);new T.a.Popup({closeButton:!1}).setLngLat(e.geometry.coordinates).setDOMContent(g).addTo(t)},D=function(){var e,t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,l.a.awrap(B.a.init({key:"https://docs.google.com/spreadsheets/d/1PzOmbsWPMOkF7lsU-eQbdd2ZF_tQ6tS6C4b_xQfP6jE/edit#gid=290454584",simpleSheet:!0}));case 3:return e=n.sent,t={type:"FeatureCollection",features:[]},e.forEach((function(e,n){var r=e.shop,o=e.address,a=e.city,c=e.state,i=e.postal_code,u=e.country,s=e.phone,l=e.lat,d=e.lon,p=e.google_maps_url,f=e.instagram_url,m=d?parseFloat(d):"",g=l?parseFloat(l):"";t.features.push({type:"Feature",id:n,geometry:{type:"Point",coordinates:[m,g]},properties:{name:r,address:o,city:a,state:c,postal_code:i,country:u,phone:s,google_maps_url:p,instagram_url:f,lat:l,lon:d}})})),n.abrupt("return",t);case 9:n.prev=9,n.t0=n.catch(0),console.log("Error in createGeoJson",n.t0);case 12:case"end":return n.stop()}}),null,null,[[0,9]])},G=function(e,t,n){t.addControl(function(){var r=new M.a({accessToken:J,mapboxgl:T.a,marker:!0});return r.on("result",(function(r){var o=r.result.geometry,a={units:"miles"};e.features.forEach((function(e){Object.defineProperty(e.properties,"distance",{value:U.distance(o,e.geometry,a),writable:!0,enumerable:!0,configurable:!0})}));var c=e.features.sort((function(e,t){return e.properties.distance>t.properties.distance?1:e.properties.distance<t.properties.distance?-1:0}));n({type:"FeatureCollection",features:c});var i=function(e,t,n){var r=[e.features[t].geometry.coordinates[1],n.coordinates[1]],o=[e.features[t].geometry.coordinates[0],n.coordinates[0]].sort(c),a=r.sort(c);return[[o[0],a[0]],[o[1],a[1]]];function c(e,t){return e>t?1:e.distance<t.distance?-1:0}}(e,0,o);t.fitBounds(i,{padding:100})})),r}(),"top-left")};function Q(){var e=Object(p.a)(["\n  height: 100%;\n  overflow: auto;\n  padding-bottom: 60px;\n  box-sizing: border-box;\n  line-height: 24px;\n  color: ",";\n"]);return Q=function(){return e},e}function X(){var e=Object(p.a)(["\n  background: ",";\n  border-bottom: 1px solid ",";\n  line-height: 40px;\n  padding: 8px;\n  font-size: 1.5rem;\n  color: ",";\n"]);return X=function(){return e},e}function Y(){var e=Object(p.a)(["\n  width: 33.3333%;\n  position: absolute;\n  height: 100%;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  border-right: 1px solid rgba(0, 0, 0, 0.25);\n"]);return Y=function(){return e},e}var V=f.a.div(Y()),q=f.a.div(X(),(function(e){return e.theme.gray300}),(function(e){return e.theme.gray100}),(function(e){return e.theme.white})),H=f.a.div(Q(),(function(e){return e.theme.gray200})),W=function(e){var t=e.title,n=e.map,r=e.locations,a=void 0===r?[]:r,c=e.activeLocation,i=e.setActiveLocation;return o.a.createElement(V,null,o.a.createElement(q,null,t),o.a.createElement(H,null,a.map((function(e,t){return o.a.createElement(j,{key:e.properties.name,activeLocation:c,properties:e.properties,locationId:e.id,onClick:function(){return N(t=e,n),R(t,n,F),void i(t.id);var t}})}))))};W.defaultProps={locations:[]};var Z=W,K=n(178),$=n.n(K);function ee(){var e=Object(p.a)(["\n  background: url(",") no-repeat;\n  background-size: 42px;\n  background-position: center;\n  border: none;\n  cursor: pointer;\n  height: 56px;\n  width: 56px;\n  background-color: rgba(0, 0, 0, 0);\n"]);return ee=function(){return e},e}var te=f.a.div(ee(),$.a),ne=function(e){var t=e.marker,n=e.map,r=e.setActiveLocation;return o.a.createElement(te,{onClick:function(e){N(t,n),R(t,n,F),r(t.id),e.stopPropagation()}})};({features:[{type:"Feature",properties:{name:"Allied Tattoo",street:"48 1/2, Grattan Street",city:"Brooklyn",state:"NY",postal_code:"11237",country:"United States",phone:"(347) 725-4861"},geometry:{coordinates:[-73.933471,40.705617],type:"Point"},id:"270fa324095a732970da109ac8b1a22e"},{type:"Feature",properties:{name:"All-Star Tattoo Co.",street:"19114 Telegraph Rd",city:"Brownstown Charter Twp",state:"MI",postal_code:"48174",country:"United States",phone:"(734) 992-4891"},geometry:{coordinates:[-83.269679,42.16601],type:"Point"},id:"45b70c3517057773e5f78949cef8ab21"},{type:"Feature",properties:{name:"717 Tattoo",street:"4901 Jonestown Rd",city:"Harrisburg",state:"PA",postal_code:"17109",country:"United States",phone:"(717) 652-7717"},geometry:{coordinates:[-76.809328,40.304719],type:"Point"},id:"5b16b4f81bc8a55a1335806f297b965f"},{type:"Feature",properties:{name:"Aether Tattoo Club",street:"7720 Shedhorn Dr Unit C",city:"Bozeman",state:"MT",postal_code:"59718",country:"United States",phone:"(406) 624-0432"},geometry:{coordinates:[-111.184522,45.671695],type:"Point"},id:"6256d453967c8379616add223d7f5d02"},{type:"Feature",properties:{name:"37 Tattoo",street:"532, Calle Piura",city:"Miraflores",state:"",postal_code:"15074",country:"Peru",phone:"(+51) 1 4601333"},geometry:{coordinates:[-77.03623,-12.115859],type:"Point"},id:"d47ed43e22b73bdc660ebb28b2adadfb"}],type:"FeatureCollection"}).features.forEach((function(e,t){e.properties.id=t}));n(421),n(422),n(423);function re(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n"]);return re=function(){return e},e}var oe=f.a.div(re()),ae=function(){var e=Object(r.useState)(void 0),t=Object(d.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(null),u=Object(d.a)(i,2),s=u[0],p=u[1],f=Object(r.useState)(null),m=Object(d.a)(f,2),g=m[0],y=m[1];return Object(r.useEffect)((function(){!function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(D());case 2:e=t.sent,a(e),y((n="map-container",T.a.accessToken=J,new T.a.Map({container:n,style:"mapbox://styles/stillnotaskingforit/ck61lf3e5089u1immtt8zj0jr",center:[-48.331871,32.792194],zoom:2})));case 5:case"end":return t.stop()}var n}))}()}),[]),Object(r.useEffect)((function(){if(n){!function(e,t,n){l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:t.on("load",(function(r){t.addSource("places",{type:"geojson",data:e}),n()}));case 1:case"end":return r.stop()}}))}(n,g,(function(){!function(e,t,n,r){e.features.forEach((function(e){var a=document.createElement("div");c.a.render(o.a.createElement(n,{marker:e,map:t,setActiveLocation:r}),a),new T.a.Marker(a,{offset:[0,-23]}).setLngLat(e.geometry.coordinates).addTo(t)}))}(n,g,ne,p)})),G(n,g,a)}}),[g]),o.a.createElement(oe,{id:"app"},o.a.createElement(Z,{title:"Participating shops",map:g,locations:n&&n.features,activeLocation:s,setActiveLocation:p}),o.a.createElement(b,{map:g}))};c.a.render(o.a.createElement((function(){return o.a.createElement(i.a,{theme:u},o.a.createElement(ae,null))}),null),document.getElementById("root"))}},[[179,1,2]]]);
//# sourceMappingURL=main.8954f0a6.chunk.js.map